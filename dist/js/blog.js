$(function(){function t(t){var r=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i,a=r.test(t);return a}function r(){var r=!1,a=!1,n=!1,s=!1;return""===$('input[name="name"]').val()?($('input[name="name"]').parent().parent().attr("class","form-group has-error"),$('input[name="name"]').parent().siblings(".form-tip").text("用户名不能为空"),r=!1):$('input[name="password"]').val().length>20?($('input[name="name"]').parent().parent().attr("class","form-group has-error"),$('input[name="name"]').parent().siblings(".form-tip").text("用户名不能超过20个字符"),r=!1):r=!0,""===$('input[name="password"]').val()?($('input[name="password"]').parent().parent().attr("class","form-group has-error"),$('input[name="password"]').parent().siblings(".form-tip").text("请输入密码"),a=!1):$('input[name="password"]').val().length<6?($('input[name="password"]').parent().parent().attr("class","form-group has-error"),$('input[name="password"]').parent().siblings(".form-tip").text("密码不能小于6个字符"),a=!1):a=!0,""===$('input[name="password-repeat"]').val()?($('input[name="password-repeat"]').parent().parent().attr("class","form-group has-error"),$('input[name="password-repeat"]').parent().siblings(".form-tip").text("请输入确认密码"),n=!1):$('input[name="password-repeat"]').val()!==$('input[name="password"]').val()?($('input[name="password-repeat"]').parent().parent().attr("class","form-group has-error"),$('input[name="password-repeat"]').parent().siblings(".form-tip").text("两次输入密码不一致!"),n=!1):n=!0,""===$('input[name="email"]').val()?($('input[name="email"]').parent().parent().attr("class","form-group has-error"),$('input[name="email"]').parent().siblings(".form-tip").text("邮箱地址不能为空"),s=!1):t($('input[name="email"]').val())?s=!0:($('input[name="email"]').parent().parent().attr("class","form-group has-error"),$('input[name="email"]').parent().siblings(".form-tip").text("邮箱地址格式有误!"),s=!1),r&&a&&n&&s?!0:!1}$("#J_submit").click(function(){return r()?void $("#J_form-register").submit():!1}),$('input[name="name"]').focus(function(){$(this).parent().parent().attr("class","form-group"),$(this).parent().siblings(".form-tip").text("")}).blur(function(){""===$(this).val()?($(this).parent().parent().attr("class","form-group has-error"),$(this).parent().siblings(".form-tip").text("用户名不能为空")):$(this).val().length>20&&($(this).parent().parent().attr("class","form-group has-error"),$(this).parent().siblings(".form-tip").text("用户名不能超过20个字符"))}),$('input[name="password"]').focus(function(){$(this).parent().parent().attr("class","form-group"),$(this).parent().siblings(".form-tip").text("")}).blur(function(){""===$(this).val()?($(this).parent().parent().attr("class","form-group has-error"),$(this).parent().siblings(".form-tip").text("请输入密码")):$(this).val().length<6&&($(this).parent().parent().attr("class","form-group has-error"),$(this).parent().siblings(".form-tip").text("密码不能小于6个字符"))}),$('input[name="password-repeat"]').focus(function(){$(this).parent().parent().attr("class","form-group"),$(this).parent().siblings(".form-tip").text("")}).blur(function(){""===$(this).val()?($(this).parent().parent().attr("class","form-group has-error"),$(this).parent().siblings(".form-tip").text("请输入确认密码")):$(this).val()!==$('input[name="password"]').val()&&($(this).parent().parent().attr("class","form-group has-error"),$(this).parent().siblings(".form-tip").text("两次输入密码不一致!"))}),$('input[name="email"]').focus(function(){$(this).parent().parent().attr("class","form-group"),$(this).parent().siblings(".form-tip").text("")}).blur(function(){""===$(this).val()?($(this).parent().parent().attr("class","form-group has-error"),$(this).parent().siblings(".form-tip").text("邮箱地址不能为空")):t($(this).val())||($(this).parent().parent().attr("class","form-group has-error"),$(this).parent().siblings(".form-tip").text("邮箱地址格式有误!"))})});